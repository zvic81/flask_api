on:
  push:
    branches:
      - orders
name: Create Pull Request
jobs:
  createPullRequest:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Create report file
        id: reports
        run: echo "$(git log --oneline)." >> $GITHUB_OUTPUT
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          commit-message: Pull request to master
          committer: Zvic <zvic@list.ru>
          author: ${{ github.actor }} <${{ github.actor }}@users.noreply.github.com>
          body: |
            Auto-generated by [create-pull-request][1]
            All changes in branch ${GITHUB_REF#refs/heads/}
            - ${{ steps.reports.outputs }}

            [1]: https://github.com/peter-evans/create-pull-request
          title: '[From zvic] Pull request to master'
          labels: report, automated pr
          assignees: zvic81
          reviewers: css-ilgol
          branch: orders
          base: master




# name : 'test_on_push'
# on:
#   push:
#     branches:
#       - orders
# jobs:
#   run-linters:
#     name: Run linters
#     runs-on: ubuntu-latest

#     steps:
#       - name: check out repo
#         uses: actions/checkout@v2

#       - name: Setup python
#         uses: actions/setup-python@v1
#         with:
#           python-version: 3.8
#       - name: Install depends
#         run: pip install autopep8

#       - name: Show files
#         run: ls ${{ github.workspace }}/app

#       - name: Run linters
#         id: step-one
#         uses: wearerequired/lint-action@v2
#         with:
#           autopep8: true
#           autopep8_dir: app/
#   test:
#     name: testik
#     runs-on: ubuntu-latest
#     needs: run-linters
#     steps:
#       - name: Print
#         run:  echo "result of linter ${{ needs.run-linters.result }}"
